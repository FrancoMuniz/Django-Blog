{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block content %}

<main role="main" class="container">
    <div class="row">
        <div class="col-md-8 blog-main">

            <div class="blog-post">
                <h2 class="pb-3 mb-4 font-italic border-bottom blog-post-title">{{ object.title }}</h2>
                <p class="blog-post-meta">{{ object.publish_date }}</p>
                <p>{{ object.content }}</p>
                <form action="{% url 'articles:article-delete' object.id %}" method='POST'>{% csrf_token %}
                    <p><input type='submit' class="btn btn-danger" value='Delete Article' /> </p>
                </form>
                <form class='comment' action="{% url 'articles:comment-create' object.id %}" method='POST'>
                    {% csrf_token %}
                    {{ commentForm|crispy }}
                    <input type='submit' class="btn btn-primary" value='Post Comment' />
                </form>
                <br>
                <br>
                <h2 class="border-bottom">Comments</h2>
                {% for instance in comments %}
                
                <div class="row">
                    <div class="col-md-12">
                        <div class="media g-mb-30 media-comment">
                            <div class="media-body u-shadow-v18 g-bg-secondary g-pa-30">
                                <div class="g-mb-15">
                                    <h5 class="h5 g-color-gray-dark-v1 mb-0">John Doe</h5>
                                    <span class="g-color-gray-dark-v4 g-font-size-12">{{ instance.publish_date }}</span>
                                </div>

                                <p>{{ instance.content }}</p>

                                <ul class="border-bottom list-inline d-sm-flex my-0 ">

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
</main>




{% endblock %}